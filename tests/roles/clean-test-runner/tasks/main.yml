---


- name: Create local artifacts dir
  become: no
  local_action:
    module: file
    path: "{{ local_artifacts }}"
    state: "{{ item }}"
  with_items:
    - absent

- name: Make sure rsync required to fetch artifacts is installed
  dnf:
    name:
      - rsync

- name: Fetch artifacts
  synchronize:
    mode: pull
    delete: yes
    src: "{{ artifacts }}"
    dest: "{{ local_artifacts }}"
